name: 查询wisommand命令

request:
    headers:
        Content-Type: application/x-www-form-urlencoded
    data:
        MachineID: D05099147E90
        v: 1.0
        command: 326
        sequenceId: 1
        sv: 371293f50f0192eccc051f13c22cdc8b
    method: POST
    url: /ws/wicommand/query

validate:
    - eq: [status_code, 200]
    - eq: [headers.Content-Type, text/html;charset=UTF-8]
    - eq: [content.responseHeader.errorInfo, Success]
    - json_schema: [content, {
        "type" : "object",
        "required" : ["responseHeader","response"],
        "properties" : {
            "responseHeader" : {
                "id" : "#/properties/responseHeader",
                "type" : "object",
                "required" : ["status","sequenceId","command","errorInfo"],
                "properties" : {
                    "status" : { "type" : "string" },
                    "sequenceId": { "type" : "integer" },
                    "command": { "type": "integer" },
                    "errorInfo": { "type": "string" }
                },
                "additionalProperties": false
            },
            "response" : {
                "type" : "object",
                "required" : ["wiCommand"],
                "properties" : {
                    "wiCommand" : { "$$ref" : "#/definitions/modify_preset" }
                }   
            }
        },      
        "definitions" : {
            "modify_preset" : {
                "type" : "array",
                "items" : {
                    "type" : "object",
                    "required" : ["payload","v","action","id"],
                    "properties" : {
                        "v" : { "type": "integer" },
                        "action" : { "type": "string" },
                        "id" : { "type": "integer" },
                        "payload" : {
                            "type" : "array",
                            "items" : {
                                "type" : "object",
                                "required" : ["presets","v"],
                                "properties" : {
                                    "v" : { "type" : "integer" },
                                    "presets" : {
                                        "type" : "array",
                                        "items" : {
                                            "type" : "object",
                                            "required" : ["val","key"],
                                            "properties" : {
                                            "val" : { "type" : "string" },
                                            "key" : { "type" : "string" }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }]